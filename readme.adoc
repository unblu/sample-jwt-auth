= Unblu Visitor authentication using JWT

Documentation: https://unblu.github.io/unblu-visitor-sso-sample/[HTML]

== Run Sample App

[source,bash]
----
./gradlew bootRun
----

Then open http://localhost:8080.

.cURL samples
[source,bash]
----
# List generated JWKs
curl -s localhost:8080/api/jwk | jq
# Issue a new JWT
curl -X POST \
  -H "Content-Type: application/json" \
  -d '{"email": "peter.muster@example.com", "firstname": "Peter", "lastname": "Muster"}' \
  localhost:8080/api/token | jq
----

== Publish OCI Image

[source,bash]
----
REGISTRY="gcr.io/your-project"
IMAGE="$REGISTRY/samples/jwt-auth"
VERSION="0.0.1-SNAPSHOT"
./gradlew bootBuildImage
docker tag sample-jwt-auth:$VERSION $IMAGE:$VERSION
docker push $IMAGE:$VERSION
----

== Known Issues

None